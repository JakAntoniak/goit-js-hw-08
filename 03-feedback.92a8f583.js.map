{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YAMvCF,EAAKK,iBACH,QACAC,EAAAR,GAAES,UAAS,KACT,MAAMC,EAAa,CACjBC,MAAOT,EAAKU,SAASD,MAAME,MAC3BC,QAASZ,EAAKU,SAASE,QAAQD,OAEjCE,aAAaC,QATG,sBASkBC,KAAKC,UAAUR,GAAY,GAC5D,MAKL,MAAMS,EAAiBF,KAAKG,MAAML,aAAaM,QAf3B,wBAgBhBF,IACFd,EAAMQ,MAAQM,EAAeR,MAC7BL,EAAQO,MAAQM,EAAeL,SAKjCZ,EAAKK,iBAAiB,UAAUe,IAC9BA,EAAEC,iBACFC,QAAQC,IAAIN,GACZJ,aAAaW,WA1BK,uBA2BlBrB,EAAMQ,MAAQ,GACdP,EAAQO,MAAQ,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { now } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\n\n//1. Step - setting localstorage data with throttle delay\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener(\n  'input',\n  _.throttle(() => {\n    const formInputs = {\n      email: form.elements.email.value,\n      message: form.elements.message.value,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formInputs));\n  }, 500)\n);\n\n// 2. Step - getting input values after site refreshing\n\nconst savedFormState = JSON.parse(localStorage.getItem(STORAGE_KEY));\nif (savedFormState) {\n  email.value = savedFormState.email;\n  message.value = savedFormState.message;\n}\n\n// 3. Step - clearing inputs and localhost after clicking submit button\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  console.log(savedFormState);\n  localStorage.removeItem(STORAGE_KEY);\n  email.value = '';\n  message.value = '';\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","addEventListener","$parcel$interopDefault","throttle","formInputs","email","elements","value","message","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$savedFormState","parse","getItem","e","preventDefault","console","log","removeItem"],"version":3,"file":"03-feedback.92a8f583.js.map"}