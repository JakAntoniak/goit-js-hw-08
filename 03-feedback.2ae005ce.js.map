{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YAIjCG,EAAc,sBAEpBL,EAAKM,iBACH,QACAC,EAAAT,GAAEU,UAAS,WACT,IAAMC,EAAa,CACjBC,MAAOV,EAAKW,SAASD,MAAME,MAC3BC,QAASb,EAAKW,SAASE,QAAQD,OAEjCE,aAAaC,QAAQV,EAAaW,KAAKC,UAAUR,G,GAChD,MAKL,IAAMS,EAAiBF,KAAKG,MAAML,aAAaM,QAAQf,IACnDa,IACFf,EAAMS,MAAQM,EAAeR,MAC7BN,EAAQQ,MAAQM,EAAeL,SAKjCb,EAAKM,iBAAiB,UAAU,SAAAe,GAC9BA,EAAEC,iBACFC,QAAQC,IAAIN,GACZJ,aAAaW,QACbtB,EAAMS,MAAQ,GACdR,EAAQQ,MAAQ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { now } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\n\n//1. Step - setting localstorage data with throttle delay\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener(\n  'input',\n  _.throttle(() => {\n    const formInputs = {\n      email: form.elements.email.value,\n      message: form.elements.message.value,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formInputs));\n  }, 500)\n);\n\n// 2. Step - getting input values after site refreshing\n\nconst savedFormState = JSON.parse(localStorage.getItem(STORAGE_KEY));\nif (savedFormState) {\n  email.value = savedFormState.email;\n  message.value = savedFormState.message;\n}\n\n// 3. Step - clearing inputs and localhost after clicking submit button\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  console.log(savedFormState);\n  localStorage.clear();\n  email.value = '';\n  message.value = '';\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$STORAGE_KEY","addEventListener","$parcel$interopDefault","throttle","formInputs","email","elements","value","message","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$savedFormState","parse","getItem","e","preventDefault","console","log","clear"],"version":3,"file":"03-feedback.2ae005ce.js.map"}